
{{- /*  <meta http-equiv="Refresh" content="0; url='{{ . }}'" />  */ -}}
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  {{/*  https://gohugo.io/functions/hugo/generator/  */}}
  {{ hugo.GeneratorBuildInfo }}
  <meta name="keywords" content="{{range .Site.Taxonomies.tags.ByCount }}{{ printf "%s," .Name }}{{end}}">
  {{/*  https://developers.google.com/search/blog/2019/03/help-google-search-know-best-date-for?hl=zh-cn  */ -}}
  <script type="application/ld+json">{ "@context": "https://schema.org","@type": "Article", "headline": {{ partial "docs/title.html" . }}, "datePublished": {{- .GitInfo.MergeCreateDate | time.Format "2006-01-02T15:04:05+08:00" -}},"dateModified": {{- .GitInfo.MergeUpdateDate | time.Format "2006-01-02T15:04:05+08:00" -}}, "author": {"@type": "Person","name": "12302" }}</script>
{{- with or .Description .Summary site.Params.description | plainify | htmlUnescape | truncate 1000 }}
  <meta name="description" content="{{ trim . "\n\r\t " }}">
{{- end }}

{{ partial "_internal/opengraph.html" . }}

{{ partialCached "_internal/google_analytics.html" . -}}
{{- $manifest := resources.Get "manifest/manifest.json" | resources.ExecuteAsTemplate "manifest/manifest.json" . }}
  <link rel="manifest" href="{{ $manifest.RelPermalink }}">

  <title>{{ partial "docs/title" . }} | {{ .Site.Params.Title -}}</title>
  <link rel="icon" href="{{ ".images/_media/favicon-tech.ico" | relURL }}" type="image/x-icon">

<!-- RSS -->
{{- with .OutputFormats.Get "rss" -}}
  {{ printf `   <link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
{{ end -}}

<!-- Theme stylesheet, you can customize scss by creating `assets/custom.scss` in your website -->
{{- $styles := resources.Get "dist/_main/book.scss" | resources.ExecuteAsTemplate "dist/_main/book.scss" . | css.Sass | resources.Minify | resources.Fingerprint }}
  <link rel="stylesheet" href="{{ $styles.RelPermalink }}" {{ template "integrity" $styles }}>

{{- define "integrity" -}} {{- if (urls.Parse .Permalink).Host -}} integrity="{{ .Data.Integrity }}" crossorigin="anonymous" {{- end -}} {{- end -}}

<!-- CSS Stylesheets and Fonts -->
{{$sass := resources.Match "quartz/styles/[!_]*.scss" }}
{{$css := slice }}
{{range $sass}}
  {{$scss := . | css.Sass (dict "outputStyle" "compressed") }} {{$css = $css | append $scss}}
{{end}}

<!-- _custom.scss -->
{{ with resources.Get "quartz/styles/_custom.scss" }}
  {{$scss := . | css.Sass (dict "outputStyle" "compressed") }} {{$css = $css | append $scss}}
{{ end }}

{{$finalCss := $css | resources.Concat "styles.css" | resources.Fingerprint "md5" | resources.Minify  }}
<link href="{{$finalCss.Permalink}}" rel="stylesheet" />


{{$lightSyntax := resources.Get "quartz/styles/_light_syntax.scss" | css.Sass (dict "outputStyle" "compressed") | resources.Fingerprint "md5" | resources.Minify  }}
<link href="{{$lightSyntax.Permalink}}" rel="stylesheet" id="theme-link">

{{- "<!--" | safeHTML }} below code from `docs/html-head.html` {{ "-->" | safeHTML }}

{{ partial "docs/inject/head" . }}
{{- "<!--" | safeHTML }} below code from `docs/inject/head.html` {{ "-->" | safeHTML }}




{{$scripts := (slice "quartz/js/darkmode.js") }}
{{range $scripts}}
{{$scriptname := .}}
{{ $s := resources.Get $scriptname | resources.ExecuteAsTemplate $scriptname . | resources.Fingerprint "md5" | resources.Minify }}
<script src="{{$s.Permalink}}"></script>
{{end}}